{"ID":"20240513233538-dtsctin","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240513233538-dtsctin","title":"NixOS","type":"doc","updated":"20240513233538"},"Children":[{"ID":"20240513233539-8546p56","Type":"NodeParagraph","Properties":{"id":"20240513233539-8546p56","updated":"20240513233539"},"Children":[{"Type":"NodeText","Data":"Installer nix. Par exemple, sous WSL: "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://github.com/nix-community/NixOS-WSL","TextMarkTextContent":"https://github.com/nix-community/NixOS-WSL"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"Puis modifier /etc/nixos/configuration.nix."}]},{"ID":"20240513233540-t397o52","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513233540-t397o52","updated":"20240513233540"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"1. Emacs nativecomp + flakes + WSL"}]},{"ID":"20240513233541-l2h59am","Type":"NodeParagraph","Properties":{"id":"20240513233541-l2h59am","updated":"20240513233541"},"Children":[{"Type":"NodeText","Data":"Il faut rajouter un overlay. Cela va compiler emacs"}]},{"ID":"20240513233542-k21y2g3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"ey5iYXNo","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240513233542-k21y2g3","updated":"20240513233542"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"ey5iYXNo","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"{ lib, pkgs, config, modulesPath, ... }:\n\nwith lib;\nlet\n  nixos-wsl = import ./nixos-wsl;\nin\n{\n  imports = [\n    \"${modulesPath}/profiles/minimal.nix\"\n\n    nixos-wsl.nixosModules.wsl\n  ];\n\n  wsl = {\n    enable = true;\n    automountPath = \"/mnt\";\n    defaultUser = \"nixos\";\n    startMenuLaunchers = true;\n\n    # Enable integration with Docker Desktop (needs to be installed)\n    # docker.enable = true;\n  };\n\n  # Enable nix flakes\n  nix.package = pkgs.nixFlakes;\n  nix.extraOptions = ''\n    experimental-features = nix-command flakes\n  '';\n\n  # Emacs28 with nativecomp\n  services.emacs.package = pkgs.emacsNativeComp;\n\n  nixpkgs.overlays = [\n    (import (builtins.fetchTarball {\n      url = https://github.com/nix-community/emacs-overlay/archive/master.tar.gz;\n    }))\n  ];\n\n  environment.systemPackages = with pkgs; [\n          emacsNativeComp\n  ];\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240513233543-hivbu5b","Type":"NodeParagraph","Properties":{"id":"20240513233543-hivbu5b","updated":"20240513233543"},"Children":[{"Type":"NodeText","Data":"Puis installer avec"}]},{"ID":"20240513233544-z308nwl","Type":"NodeParagraph","Properties":{"id":"20240513233544-z308nwl","updated":"20240513233544"},"Children":[{"Type":"NodeText","Data":"nixos-rebuild switch"}]},{"ID":"20240513233545-4e2r5gl","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513233545-4e2r5gl","updated":"20240513233545"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"2. Ajouter des logiciels au niveau global"}]},{"ID":"20240513233546-qlzlc4l","Type":"NodeParagraph","Properties":{"id":"20240513233546-qlzlc4l","updated":"20240513233546"},"Children":[{"Type":"NodeText","Data":"il sufit de modifier"}]},{"ID":"20240513233547-gasyfo6","Type":"NodeParagraph","Properties":{"id":"20240513233547-gasyfo6","updated":"20240513233547"},"Children":[{"Type":"NodeText","Data":"environment.systemPackages"}]},{"ID":"20240513233548-faqchfl","Type":"NodeParagraph","Properties":{"id":"20240513233548-faqchfl","updated":"20240513233548"},"Children":[{"Type":"NodeText","Data":"et de lancer ensuite"}]},{"ID":"20240513233549-tbbo6qy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"ey5iYXNo","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240513233549-tbbo6qy","updated":"20240513233549"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"ey5iYXNo","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"nix-os rebuild switch\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240513233550-kc1jyel","Type":"NodeParagraph","Properties":{"id":"20240513233550-kc1jyel","updated":"20240513233550"},"Children":[{"Type":"NodeText","Data":"NB: il manque man par défaut !. Doc officielle :"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://nixos.org/manual/nixos/stable/","TextMarkTextContent":"https://nixos.org/manual/nixos/stable/"}]},{"ID":"20240513233551-2fxyu8o","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513233551-2fxyu8o","updated":"20240513233551"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"## ","Properties":{"id":""}},{"Type":"NodeText","Data":"Suivre avancement des branches (unrstable, stable...)"}]},{"ID":"20240513233552-it26nsn","Type":"NodeParagraph","Properties":{"id":"20240513233552-it26nsn","updated":"20240513233552"},"Children":[{"Type":"NodeText","Data":"Plusieurs possibilités"}]},{"ID":"20240513233553-y2c0fzo","Type":"NodeList","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":4,"Marker":"MQ==","Num":1},"Properties":{"id":"20240513233553-y2c0fzo","updated":"20240513233553"},"Children":[{"ID":"20240513233554-dcm0dti","Type":"NodeListItem","Data":"1","ListData":{"Typ":1,"Tight":true,"Start":1,"Delimiter":46,"Padding":4,"Marker":"MQ==","Num":1},"Properties":{"id":"20240513233554-dcm0dti","updated":"20240513233554"},"Children":[{"ID":"20240513233555-pycuybu","Type":"NodeParagraph","Properties":{"id":"20240513233555-pycuybu","updated":"20240513233555"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://nixpk.gs/pr-tracker.html?pr=188777","TextMarkTextContent":"https://nixpk.gs/pr-tracker.html?pr=188777"}]}]},{"ID":"20240513233556-607ku4m","Type":"NodeListItem","Data":"2","ListData":{"Typ":1,"Tight":true,"Start":2,"Delimiter":46,"Padding":4,"Marker":"Mg==","Num":2},"Properties":{"id":"20240513233556-607ku4m","updated":"20240513233556"},"Children":[{"ID":"20240513233557-ispmkc0","Type":"NodeParagraph","Properties":{"id":"20240513233557-ispmkc0","updated":"20240513233557"},"Children":[{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://status.nixos.org/","TextMarkTextContent":"https://status.nixos.org/"}]}]},{"ID":"20240513233558-ydxh05d","Type":"NodeListItem","Data":"3","ListData":{"Typ":1,"Tight":true,"Start":3,"Delimiter":46,"Padding":4,"Marker":"Mw==","Num":3},"Properties":{"id":"20240513233558-ydxh05d","updated":"20240513233558"},"Children":[{"ID":"20240513233559-3bafqel","Type":"NodeParagraph","Properties":{"id":"20240513233559-3bafqel","updated":"20240513233559"},"Children":[{"Type":"NodeText","Data":"Simply clicking on a commit on GitHub shows branches and tags"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"containing that commit."}]}]}]}]}