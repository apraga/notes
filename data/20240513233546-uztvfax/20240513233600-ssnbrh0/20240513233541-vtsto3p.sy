{"ID":"20240513233541-vtsto3p","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240513233541-vtsto3p","title":"Environnement Python avec nix","type":"doc","updated":"20240513233541"},"Children":[{"ID":"20240513233542-n175a8u","Type":"NodeParagraph","Properties":{"id":"20240513233542-n175a8u","updated":"20240513233542"},"Children":[{"Type":"NodeText","Data":"#nix #python"}]},{"ID":"20240513233543-ahk9t74","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513233543-ahk9t74","updated":"20240513233543"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"Projet en Python"}]},{"ID":"20240513233544-174qdmb","Type":"NodeParagraph","Properties":{"id":"20240513233544-174qdmb","updated":"20240513233544"},"Children":[{"Type":"NodeText","Data":"Instructions simples ici :"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"a","TextMarkAHref":"https://nixos.wiki/wiki/Python#Package_and_development_shell_for_a_python_project","TextMarkTextContent":"https://nixos.wiki/wiki/Python#Package_and_development_shell_for_a_python_project"}]},{"ID":"20240513233545-ew4l6ee","Type":"NodeParagraph","Properties":{"id":"20240513233545-ew4l6ee","updated":"20240513233545"},"Children":[{"Type":"NodeText","Data":"Il faut donc setup.py:"}]},{"ID":"20240513233546-fipf1wf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"cHl0aG9u","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240513233546-fipf1wf","updated":"20240513233546"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHl0aG9u","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"#!/usr/bin/env python\n\nfrom setuptools import setup, find_packages\n\nsetup(name='demo-flask-vuejs-rest',\n      version='1.0',\n      # Modules to import from other scripts:\n      packages=find_packages(),\n      # Executables\n      scripts=[\"web_interface.py\"],\n     )\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240513233547-gxi1g9c","Type":"NodeParagraph","Properties":{"id":"20240513233547-gxi1g9c","updated":"20240513233547"},"Children":[{"Type":"NodeText","Data":"Et 2 fichiers .nix, le premier pour les dépendances"}]},{"ID":"20240513233548-hvgsmpa","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"ey5iYXNo","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240513233548-hvgsmpa","updated":"20240513233548"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"ey5iYXNo","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"{ lib, python3Packages }:\nwith python3Packages;\nbuildPythonApplication {\n  pname = \"demo-flask-vuejs-rest\";\n  version = \"1.0\";\n\n  propagatedBuildInputs = [ flask ];\n\n  src = ./.;\n}\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240513233549-wcfakog","Type":"NodeParagraph","Properties":{"id":"20240513233549-wcfakog","updated":"20240513233549"},"Children":[{"Type":"NodeText","Data":"et le défaut"}]},{"ID":"20240513233550-irgk8hp","Type":"NodeParagraph","Properties":{"id":"20240513233550-irgk8hp","updated":"20240513233550"},"Children":[{"Type":"NodeText","Data":"{ pkgs ? import \u003cnixpkgs\u003e {} }:"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"pkgs.callPackage ./derivation.nix {}"}]},{"ID":"20240513233551-ohixv96","Type":"NodeParagraph","Properties":{"id":"20240513233551-ohixv96","updated":"20240513233551"},"Children":[{"Type":"NodeText","Data":"Il ne reste plus qu'à le construire"}]},{"ID":"20240513233552-d2cthbf","Type":"NodeParagraph","Properties":{"id":"20240513233552-d2cthbf","updated":"20240513233552"},"Children":[{"Type":"NodeText","Data":"nix-build"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeText","Data":"result/bin/lol.py"}]},{"ID":"20240513233553-5sep60q","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513233553-5sep60q","updated":"20240513233553"},"Children":[{"Type":"NodeHeadingC8hMarker","Data":"# ","Properties":{"id":""}},{"Type":"NodeText","Data":"Python libraries"}]},{"ID":"20240513233554-8ex97ud","Type":"NodeParagraph","Properties":{"id":"20240513233554-8ex97ud","updated":"20240513233554"},"Children":[{"Type":"NodeText","Data":"On package l'exécutable python avec les libraries. Mettre dans"},{"Type":"NodeSoftBreak","Data":"\n","Properties":{"id":""}},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"default.nix"},{"Type":"NodeText","Data":"{.verbatim}"}]},{"ID":"20240513233555-t01icry","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"bml4","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240513233555-t01icry","updated":"20240513233555"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bml4","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"with (import \u003cnixpkgs\u003e {});\nlet\n  my-python-packages = python-packages: with python-packages; [\n    pandas\n    requests\n    # other python packages you want\n  ];\nin\npython3.withPackages my-python-packages\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240513233556-l5zfdsz","Type":"NodeParagraph","Properties":{"id":"20240513233556-l5zfdsz","updated":"20240513233556"},"Children":[{"Type":"NodeText","Data":"Puis"}]},{"ID":"20240513233557-cf3s8dw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"ey5iYXNo","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240513233557-cf3s8dw","updated":"20240513233557"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"ey5iYXNo","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"nix-build default.nix\nresult/bin/python\n\u003e\u003e\u003e import pandas\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]},{"ID":"20240513233558-p8er2wx","Type":"NodeParagraph","Properties":{"id":"20240513233558-p8er2wx","updated":"20240513233558"},"Children":[{"Type":"NodeText","Data":"Si on veut juste un shell, mettre dans "},{"Type":"NodeTextMark","Properties":{"id":""},"TextMarkType":"code","TextMarkTextContent":"shell.nix"},{"Type":"NodeText","Data":"{.verbatim}"}]},{"ID":"20240513233559-73crmza","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"CodeBlockFenceChar":96,"CodeBlockFenceLen":3,"CodeBlockOpenFence":"YGBg","CodeBlockInfo":"ey5iYXNo","CodeBlockCloseFence":"YGBg","Properties":{"id":"20240513233559-73crmza","updated":"20240513233559"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"ey5iYXNo","Properties":{"id":""}},{"Type":"NodeCodeBlockCode","Data":"{ pkgs ? import \u003cnixpkgs\u003e {} }:\nlet\n  my-python-packages = ps: with ps; [\n    pandas\n    pysam\n    # other python packages\n  ];\n  my-python = pkgs.python3.withPackages my-python-packages;\nin my-python.env\n\n","Properties":{"id":""}},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```","CodeBlockFenceLen":3,"Properties":{"id":""}}]}]}