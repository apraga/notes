#+title: Git-annex
#+filetags: cs
* Données locales (mustard etc)
Voir [[Architecture]].

* Articles/livres de recherche
Les données sont stockées sur
- github avec LFS (non encrypté)
- google drive

Le dépôt central est sur github.
** Configuration
#+begin_src
git clone git@github.com:apraga/recherche
#+end_src
On active les remote
#+begin_src sh
git annex enableremote lfs
#+end_src

Pour utiliser google drive, il faut configure sous rclone :
1. Configurer rclone
   #+begin_src sh
rclone config
n
gdrive
17
   #+end_src
   Il faut récupérer les identifiants depuis https://console.cloud.google.com/apis/credentials?project=rclone-344013
   dans le projet "annex". Copier le client ID et client secret dans rclone. Puis
   #+begin_src
1
   #+end_src
  Puis faire "entrée" plusieurs fois, autorsire rclone sur le lien
2. Télécharger l'exécutable pour le plugin:
    #+begin_src sh
    curl https://raw.githubusercontent.com/DanielDent/git-annex-remote-rclone/master/git-annex-remote-rclone > git-annex-remote-rclone
    chmod +x git-annex-remote-rclone
    doas mv git-annex-remote-rclone /usr/local/bin/
    #+end_src

Puis activer le remote
#+begin_src
git annex enableremote gdrive
#+end_src
** Usage
#+begin_src sh
git annex addurl www.test.com/lol.pdf --file=papers/jean2022.pdf
git annex sync --content
#+end_src
