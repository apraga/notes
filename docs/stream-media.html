<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>stream-media</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
Here, I'll explain how to configure FreeBSD to share media content over the network using NFS, and how to configure Kodi to access it from your TV.
</p>

<div id="Server"><h2 id="Server" class="header"><a href="#Server">Server</a></h2></div>

<p>
First define which folders will be accessible to whom. In &lt;code&gt;/etc/exports&lt;/code&gt;, I share /media to everyone on my network (192.168.1.**)
</p>

<p>
&lt;syntaxhighlight lang="shell"&gt;/media  -alldirs -maproot=root -network=192.168.1.0/24&lt;/syntaxhighlight&gt;
Note the syntax is different from Linux !
</p>

<p>
Then simply activate NFS by adding in &lt;code&gt;/etc/rc.conf&lt;/code&gt; :
</p>

<p>
&lt;syntaxhighlight lang="shell"&gt;# NFS for Kodi
</p>
<ol>
<li>
Order is important : rpcbind first, then nfs and mountd

</ol>
<p>
rpcbind_enable="YES"
nfs_server_enable="YES"
weak_mountd_authentication="yes"
mountd_enable="YES"
nfs_client_enable="YES"&lt;/syntaxhighlight&gt;
NB:Â The Kodi wiki mentions lockd and statd but it is unnecessary.
</p>

<p>
Reboot or start the service (start rpcbind first, otherwise it will not work !)
</p>

<p>
&lt;syntaxhighlight lang="shell"&gt;$ service rpcbind start
$ service nfsd start&lt;/syntaxhighlight&gt;
Check the export is working :
</p>

<p>
&lt;syntaxhighlight lang="shell"&gt;$ showmount -e
Exports list on localhost:
/media                             192.168.1.0&lt;/syntaxhighlight&gt;
</p>
<div id="TV"><h2 id="TV" class="header"><a href="#TV">TV</a></h2></div>

<p>
We will use the Kodi application. Add a new source by choosing NFS and entering by hand : (the folder is not found automatically)
</p>

<p>
&lt;code&gt;nfs://192.168.1.<span class="todo">XXX</span>/media&lt;/code&gt;
</p>

<p>
where <span class="todo">XXX</span> is the end of the server IP. Profit !
</p>

</body>
</html>
